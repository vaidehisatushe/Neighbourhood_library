/**
 * 
 */
package java_core_interview_practice;

import java.util.HashMap;
import java.util.Hashtable;
import java.util.LinkedHashMap;

/**
 * 
 */
public class LRUCache {
	
	

	
	private int capacity = 5;
	
	LinkedHashMap<Integer, Integer> map = new LinkedHashMap<>(); 
	
	/**
	 * 
	 */
	public LRUCache(int capacity) {
		// TODO Auto-generated constructor stub
		this.capacity = capacity;
				
	}
	
	public int get(int key) {
		
		if(capacity <= 0) {
			return -1;
		}
		if(capacity > 0 && map.containsKey(key)) {
			return map.get(key);
		}
		 else  {
			return -1;
		}
	}
	
	public void put(int key, int value) {
		// TODO Auto-generated method stub
		
		if(map.containsKey(key)) {
			map.put(key, value);
		} else {
			map.put(key, value);
		}
		if(map.size() >= 5 && !map.containsKey(key)) {
			//remove least recently used
			Integer firstKey = map.keySet().iterator().next();
			map.remove(firstKey);
		}
		else 
		map.put(key, value);
	}
	
	/**
	 * @param args
	 */
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		LRUCache lru = new LRUCache(2);
		lru.put(1, 1); // cache is {1=1}
		lru.put(2, 2);
		lru.put(3, 3);
		lru.put(4, 4);
		lru.put(5, 5);
		lru.put(6, 6);
		lru.put(7, 7);
		System.out.println(lru.map);
	}

}
